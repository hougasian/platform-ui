@use "config";
@use "variables";
@use "sass:map";
// Tooltip
//
// Add your tooltip text to a `data-pui-tooltip` attribute on any item you want a tooltip.
//
// `data-placement` will set direction: `top`, `bottom`, `left`, `right`. Default placement is `top`.
  //
  // `data-inline` add a dashed underline to identify the tooltip.
//
// We use a font-awesome icon for our tooltip, but we don't want the hover to take place on the icon.
// Be sure to add the tooltip data attribute to the `<div>` wrapper instead. Place any color changes,
// whether they be a hover or not, on the `<div>` as well. This will ensure that our tooltip text
// does not render a different font due to the icon having the font-awesome font style.
//
// Markup:
// <div class="block-container pb-3 flex flex--justify-between">
//   <div data-placement="right" data-pui-tooltip="This is a right facing tooltip.">right</div>
//   <div data-placement="bottom" data-pui-tooltip="This is a bottom facing tooltip.">bottom</div>
//   <div data-placement="top" data-pui-tooltip="This is a top facing tooltip.">top</div>
//   <div data-placement="left" data-pui-tooltip="This is a left facing tooltip.">left</div>
// </div>
// <div class="block-container pb-3">
//   <p>Lorem ipsum dolor sit amet, <span data-pui-tooltip="This is a default tooltip with data-inline." data-inline="true">consectetur</span> adipiscing elit. Maecenas mi nunc, egestas id consectetur a, consectetur a lorem. Maecenas interdum enim felis, eget fringilla massa rhoncus sed.
// </div>
// <div class="block-container pb-3">
//   <div data-placement="top" data-pui-tooltip="Not a true help tooltip.">
//     <i class=" fal fa-question-circle fa-lg" focusable="false" aria-hidden="true"></i>
//   </div>
// </div>
//
// Styleguide Components.Tooltip


[data-pui-tooltip] {

  $triangle: map.get(config.$radius, 'default');
  $background-color: rgba(map.get(variables.$greyscale, 'dark'), .9);

  cursor: pointer;
  position: relative;

  &::after {
    background-color: $background-color;
    border-radius: $triangle;
    color: map.get(variables.$greyscale, 'white');
    content: attr(data-pui-tooltip);
    font-size: map.get(config.$fonts, 'size');
    font-size: map.get(variables.$font-percentage, 'sm');
    font-weight: normal;
    opacity: 0;
    padding: map.get(variables.$spacers, 1) map.get(variables.$spacers, 2);
    position: absolute;
    text-align: center;
    text-transform: none;
    transition: opacity config.$transitions;
    visibility: hidden;
    white-space: nowrap;
    z-index: 1;
  }

  @each $direction, $d in variables.$xy-border {
    &.tooltip-#{$direction} {
      // arrows
      &::before {
        border-style: solid;
        border-width: $triangle;
        content: "";
        opacity: 0;
        position: absolute;
        transition: opacity config.$transitions;
        visibility: hidden;
        @if $direction == top {
          border-color: $background-color transparent transparent transparent;
          top: 0;
          left: 50%;
          margin-left: -$triangle;
        } @else
        if $direction == bottom {
          border-color: transparent transparent $background-color transparent;
          bottom: 0;
          left: 50%;
          margin-left: -$triangle;
        } @else
        if $direction == left {
          border-color: transparent transparent transparent $background-color;
          top: calc(50% - #{$triangle});
          left: -$triangle;
          margin-top: -$triangle;
        } @else
        if $direction == right {
          border-color: transparent $background-color transparent transparent;
          top: 50%;
          top: calc(50% - #{$triangle});
          right: -$triangle;
          margin-top: -$triangle;
        }
      }

      &::after {
        @if $direction == top {
          bottom: 100%;
          left: 50%;
          transform: translate(-50%);
        } @else
        if $direction == bottom {
          top: 100%;
          left: 50%;
          transform: translate(-50%);
        } @else
        if $direction == left {
          top: -$triangle;
          right: 100%;
          transform: translate(-1%);
          margin-right: $triangle / 2;
        } @else
        if $direction == right {
          top: -$triangle;
          left: 110%;
          transform: translate(-1%);
          margin-left: $triangle / 2;
        }
      }
    }
  }

  &:hover::after,
  &[class^=tooltip-]:hover::before {
    visibility: visible;
    opacity: 1;
  }
}

[data-inline] {
  border-bottom: 2px dotted map.get(config.$brand-colors, 'med-blue');
  display: inline-block;
}

// not fully realized :(
.pui-tooltip--help {
  color: map.get(config.$brand-colors, 'med-blue') !important;
}
